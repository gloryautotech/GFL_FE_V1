<nb-card size="giant" class="nb-style">
    <nb-card-body>
        <div class="machine-cards" *ngIf="optionFlag">
            <div class="row">
                <div class="col-md-6" (click)="machineReport()">
                    <button type="button" class="card-machine">
                        <div class="machine-icon">
                            <nb-icon icon="settings-2-outline" class="machine-nb-icon"></nb-icon>
                        </div>
                        <div class="machine-text">
                            <h2>Machine Report</h2>
                        </div>
                    </button>
                </div>
                <div class="col-md-6" (click)="staffReport()">
                    <button type="button" class="card-machine">
                        <div class="machine-icon">
                            <nb-icon icon="settings-2-outline"></nb-icon>
                        </div>
                        <div class="machine-text">
                            <h2>Staff Report</h2>
                        </div>
                    </button>
                </div>
                <div class="col-md-6" (click)="salesReport()">
                    <button type="button" class="card-machine">
                        <div class="machine-icon">
                            <nb-icon icon="settings-2-outline"></nb-icon>
                        </div>
                        <div class="machine-text">
                            <h2>Sales Report</h2>
                        </div>
                    </button>
                </div>
                <div class="col-md-6" (click)="POApproval()">
                    <button type="button" class="card-machine">
                        <div class="machine-icon">
                            <nb-icon icon="settings-2-outline"></nb-icon>
                        </div>
                        <div class="machine-text">
                            <h2>PO Approval Report</h2>
                        </div>
                    </button>
                </div>
            </div>
        </div>
        <div *ngIf="POApprovalFlag">
            <ngx-datatable class="material" [rows]="purchaseRequestList" [headerHeight]="31" [footerHeight]="40">
                <ngx-datatable-column name="Status" sortable="false">
                    <ng-template let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                        <div *ngIf="row.status === 1">APPROVED</div>
                        <div *ngIf="row.status === 2">DECLINED</div>
                        <div *ngIf="row.status === 0">
                            <button class="btn btn-sm btn-primary" (click)="updateRequest(1, rowIndex)">
                                APPROVE</button>
                            <button class="btn btn-sm btn-primary" (click)="updateRequest(2, rowIndex)">
                                DECLINE</button>
                        </div>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="User Id" prop="createdBy"></ngx-datatable-column>
                <ngx-datatable-column name="Item Name" prop="itemName"></ngx-datatable-column>
                <ngx-datatable-column name="Supplier Name" prop="supplierName"></ngx-datatable-column>
            </ngx-datatable>
        </div>
        <div class="machine-cards" *ngIf="machineReportFlag">
            <div class="row">
                <div class="col-md-4" *ngFor="let cat of machineCategory">
                    <button type="button" (click)="categorySelected(cat)" class="card-machine">
                        <h2>{{cat.name}}</h2>
                    </button>
                </div>
            </div>
        </div>
        <div class="machine-cards" *ngIf="MachineFlag">
            <div class="row">
                <div class="col-md-4" *ngFor="let machine of infor">
                    <div class="machine-main-card">
                        <div class="date-card">
                            <div class="date-card-header">
                                <h2>{{machine.machineName}}</h2>
                            </div>
                        </div>
                        <div class="date-card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="eff-text">
                                        <h2 class="tble-txt">Eff:</h2>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="eff-data">
                                        <input type="text" class="tble-in">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="eff-text">
                                        <h2 class="tble-txt">Speed:</h2>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="eff-data">
                                        <input type="text" class="tble-in">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="day-night-picker">
                            <div class="form-group">
                                <strong><label>Select Date & Time</label></strong>
                                <input class="form-control" [owlDateTime]="dt1" [selectMode]="'range'" [(ngModel)]="datetime"
                                    [owlDateTimeTrigger]="dt1" placeholder="Date Time">
                                <owl-date-time [showSecondsTimer]="true" (afterPickerClosed)="change()" #dt1></owl-date-time>
                            </div>
                        </div>
                        <div class="date-time-btn">
                            <div class="row">
                                <div class="col-md-6 col-6">
                                    <div class="day-machine">
                                        <button type="button" (click)="day(machine)" class="btn btn-primary btn-sm btn-design">Day</button>
                                    </div>
                                </div>
                                <div class="col-md-6 col-6">
                                    <div class="night-machine">
                                        <button type="button" (click)="night(machine)" class="btn btn-primary btn-sm btn-design">Night</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="ChartFlag">
            <canvas baseChart [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions"
                [colors]="lineChartColors" [legend]="lineChartLegend" [chartType]="lineChartType"
                [plugins]="lineChartPlugins">
            </canvas>
        </div>
        <div *ngIf="NoDataFlag">
            <h1 style="color: #aa3634;">No data found</h1>
        </div>

        <div *ngIf="buttonFlag">
            <button class="btn btn-primary" (click)="back()">BACK</button>
        </div>

    </nb-card-body>
</nb-card>



