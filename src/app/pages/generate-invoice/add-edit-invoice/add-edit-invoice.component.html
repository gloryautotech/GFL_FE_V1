<nb-card>
    <nb-card-header class="nb-header">
        <div>
            <h2 class="nb-text">Add Invoice</h2>
        </div>
        
    </nb-card-header>
    <nb-card-body>
                <form #myForm="ngForm">
                    <div class="row">
                       <div class="col-md-4">
                        <div class="form-group">
                            <label class="required">Party Name</label>
                            <ng-select name="partyId" [(ngModel)]='invoiceValues.partyId' required #partyId1="ngModel"
                                [ngClass]="{'is-invalid': (partyId1.invalid)&&(formSubmitted || partyId1.touched)}"
                                (change)="getBatchList($event)" placeholder="Party Name" class="required-error-dropdown">
                                <ng-option *ngFor="let p of party" [value]="p.id">{{p.partyName}}</ng-option>
                            </ng-select>
                            <div class="required-class" *ngIf="(formSubmitted && partyId1.invalid) || (partyId1.invalid && partyId1.touched)">
                                <span>Party name is required</span>
                            </div>
                        </div>
                    </div>
                    </div>
                        <!-- Batch Id -->
                        <div class="row">
                            <div class="col-md-4">
                             <div class="form-group">
                                 <label class="required">Batch Id</label>
                                 <ng-select name="batchId" [(ngModel)]='invoiceValues.batchId' required #batchId1="ngModel"
                                     [ngClass]="{'is-invalid': (batchId1.invalid)&&(formSubmitted || batchId1.touched)}"
                                     (change)="getMtrList($event)" placeholder="Batch Id" class="required-error-dropdown">
                                     <ng-option *ngFor="let q of batch" [value]="q.batchId">{{q.batchId}}</ng-option>
                                 </ng-select>
                                 <div class="required-class" *ngIf="(formSubmitted && batchId1.invalid) || (batchId1.invalid && batchId1.touched)">
                                     <span>Batch Id is required</span>
                                 </div>
                             </div>
                         </div>
                         </div>
                         <div class="row">
                            <label>Finish Meter</label>&nbsp;&nbsp;&nbsp;
                                  <nb-checkbox status="basic" name="finishMtr" [(ngModel)]='invoiceValues.batchId && invoiceValues.controlId' #finishMtr1="ngModel" 
                                  [ngClass]="{'is-invalid': (finishMtr1.invalid)&&(formSubmitted || finishMtr1.touched)}"  *ngFor="let m of mtr">
                                  <label>BatchId :{{m.batchId}} FinishMtr: {{m.finishMtr}}</label>
                                  </nb-checkbox>
                         </div>
                        <div class="row">
                             <div class="col-md-12 mobile-btn-center text-btn-right">
                                <div class="padding-bt-tp">
                                     <button type="button" class="btn btn-primary btn-sm btn-design" style="margin-right:20px"
                                     >Generate Invoice</button>
                                </div>
                             </div>
                        </div>
                    </form>
    </nb-card-body>
</nb-card> 